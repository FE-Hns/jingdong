{"version":3,"sources":["webpack:///./src/assets/imgs/basket.png","webpack:///./src/views/Shop/Cart/Index.vue?5819","webpack:///./src/views/Shop/Product/Index.vue?2ac2","webpack:///./src/views/Shop/Search/Index.vue?a407","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./src/views/Shop/Index.vue","webpack:///./src/views/Shop/Search/Index.vue","webpack:///./src/views/Shop/Search/Index.vue?03fb","webpack:///./src/views/Shop/Search/Index.vue?f7f2","webpack:///./src/views/Shop/Info/Index.vue","webpack:///./src/common/cartController.ts","webpack:///./src/views/Shop/Info/Index.vue?343f","webpack:///./src/views/Shop/Info/Index.vue?e82f","webpack:///./src/views/Shop/Product/Index.vue","webpack:///./src/views/Shop/Product/Index.vue?52c9","webpack:///./src/views/Shop/Product/Index.vue?20fb","webpack:///./src/views/Shop/Cart/Index.vue","webpack:///./src/views/Shop/Cart/Index.vue?09f4","webpack:///./src/views/Shop/Cart/Index.vue?eb45","webpack:///./src/views/Shop/Index.vue?1d62","webpack:///./src/views/Shop/Index.vue?4d6d","webpack:///./src/views/Shop/Info/Index.vue?ef74"],"names":["module","exports","$","toObject","nativeKeys","fails","FAILS_ON_PRIMITIVES","target","stat","forced","keys","it","class","type","placeholder","handleClickBack","backHandler","router","back","name","setup","render","__scopeId","data","shopInfo","hasBorder","cartController","store","params","addToCart","shopId","productId","productInfo","commit","delToCart","changeProductCheck","selectAll","clearCart","value","setShopName","getData","getShopInfo","result","retCode","components","ShopItem","route","id","tags","tag","currentTag","key","changeCategory","label","products","item","src","imgUrl","alt","title","sales","currentPrice","originalPrice","showNum","productNum","getProductsByCategory","cartList","state","count","showCart","calculation","allChecked","productList","check","toggleProduct","total","price","goToOrder","showCartFlag","realTotal","product","formatNumTwo","list","Object","forEach","_k","push","path","query","Search","Info","Products","Cart"],"mappings":"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","file":"js/shop.3c7a47b2.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=0&id=402eec44&lang=less&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=0&id=52743d35&lang=less&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=0&id=5956ebc8&lang=less&scoped=true\"","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","<template>\n  <div class=\"shop\">\n    <!-- 搜索区域 -->\n    <Search />\n    <!-- 商品信息 -->\n    <Info />\n    <!-- 内容区域 -->\n    <Products />\n    <!-- 购物车 -->\n    <Cart />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport Search from \"./Search/Index.vue\";\nimport Info from \"./Info/Index.vue\";\nimport Products from \"./Product/Index.vue\";\nimport Cart from \"./Cart/Index.vue\";\n\nexport default defineComponent({\n  name: \"Shop\",\n  components: {\n    Search,\n    Info,\n    Products,\n    Cart,\n  },\n});\n</script>\n\n<style lang=\"less\" scoped></style>\n","<template>\n  <div class=\"search\">\n    <span class=\"iconfont\" @click=\"handleClickBack\">&#xe63b;</span>\n    <div class=\"search__content\">\n      <div class=\"iconfont search__content__prefix\">&#xe608;</div>\n      <input type=\"text\" class=\"search__content__input\" placeholder=\"请输入商品名称搜索\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport { Router, useRouter } from \"vue-router\";\n\n// 处理返回图标逻辑\nconst backHandler = (router: Router) => {\n  const handleClickBack = () => {\n    router.back();\n  };\n  return { handleClickBack };\n};\n\nexport default defineComponent({\n  name: \"Search\",\n  setup() {\n    // 获取路由\n    const router = useRouter();\n    // 返回上一页\n    const { handleClickBack } = backHandler(router);\n\n    return { handleClickBack };\n  },\n});\n</script>\n\n<style lang=\"less\" scoped>\n@import url(\"../../../style/variable.less\");\n.search {\n  padding: 0.16rem 0.18rem;\n  display: flex;\n  align-items: center;\n  .iconfont {\n    font-size: 0.13rem;\n    color: #b6b6b6;\n    margin-right: 0.16rem;\n  }\n  &__content {\n    background-color: @bg-color-light-white;\n    border-radius: 0.16rem;\n    padding: 0.08rem 0.16rem;\n    font-size: 0.16rem;\n    display: flex;\n    align-items: center;\n    flex: 1;\n    &__prefix {\n      margin-right: 0.12rem;\n    }\n    &__input {\n      flex: 1;\n      border: none;\n      background-color: @bg-color-light-white;\n      outline: 0;\n      font-size: 0.14rem;\n    }\n  }\n}\n</style>\n","\nimport { defineComponent } from \"vue\";\nimport { Router, useRouter } from \"vue-router\";\n\n// 处理返回图标逻辑\nconst backHandler = (router: Router) => {\n  const handleClickBack = () => {\n    router.back();\n  };\n  return { handleClickBack };\n};\n\nexport default defineComponent({\n  name: \"Search\",\n  setup() {\n    // 获取路由\n    const router = useRouter();\n    // 返回上一页\n    const { handleClickBack } = backHandler(router);\n\n    return { handleClickBack };\n  },\n});\n","import { render } from \"./Index.vue?vue&type=template&id=5956ebc8&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&lang=ts\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=5956ebc8&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5956ebc8\"\n\nexport default script","<template>\n  <div class=\"shop__info\">\n    <ShopItem :data=\"shopInfo\" :hasBorder=\"false\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, onMounted } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport { get } from \"../../../utils/request\";\nimport api from \"../../../api/Index\";\nimport ShopItem from \"../../../components/Shop/ShopItem.vue\";\nimport { cartController } from \"../../../common/cartController\";\nimport { Store, useStore } from \"vuex\";\n\n// 处理获取商铺信息\nconst getShopInfoHandler = (store: Store<any>, shopId: string) => {\n  const { setShopName } = cartController(store, null);\n  let shopInfo = ref({});\n  const getData = async () => {\n    const result = await get(`${api.getShopInfo}/${shopId}`, {});\n    if (result?.retCode === 0) {\n      shopInfo.value = result?.data;\n      // 存储商铺信息\n      setShopName(shopId, shopInfo);\n    }\n  };\n  onMounted(() => {\n    getData();\n  });\n\n  return { shopInfo };\n};\n\nexport default defineComponent({\n  name: \"Info\",\n  components: {\n    ShopItem,\n  },\n  setup() {\n    // 获取路径\n    const route = useRoute();\n    // 获取store\n    const store = useStore();\n    // 获取商铺id\n    const shopId = typeof route.params?.id === \"string\" ? route.params?.id : \"\";\n    // 获取店铺信息\n    const { shopInfo } = getShopInfoHandler(store, shopId);\n\n    return { shopInfo };\n  },\n});\n</script>\n\n<style lang=\"less\" scoped>\n@import url(\"../../../style/variable.less\");\n.shop__info {\n  padding: 0 0.18rem;\n}\n</style>\n","// 购物车相关的通用逻辑\nimport { Ref } from \"vue\";\nimport { Store } from \"vuex\";\nexport const cartController = (store: Store<any>, params: any) => {\n  // 添加购物车\n  const addToCart = (shopId: string, productId: string, productInfo: any) => {\n    store.commit(\"addToCart\", { shopId, productId, productInfo });\n  };\n  // 从购物车中删除\n  const delToCart = (shopId: string, productId: string, productInfo: any) => {\n    store.commit(\"delToCart\", { shopId, productId, productInfo });\n  };\n  // 是否勾选中\n  const changeProductCheck = (shopId: string, productId: string) => {\n    store.commit(\"changeProductCheck\", { shopId, productId });\n  };\n  // 切换全选\n  const selectAll = (shopId: string) => {\n    store.commit(\"selectAll\", { shopId });\n  };\n  // 清空购物车\n  const clearCart = () => {\n    params.value = false;\n    store.commit(\"clearCart\");\n  };\n  // 设置商铺名称\n  const setShopName = (shopId: string, shopInfo: Ref) => {\n    store.commit(\"setShopName\", { shopId, shopInfo });\n  };\n  return { addToCart, delToCart, changeProductCheck, selectAll, clearCart, setShopName };\n};\n","\nimport { defineComponent, ref, onMounted } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport { get } from \"../../../utils/request\";\nimport api from \"../../../api/Index\";\nimport ShopItem from \"../../../components/Shop/ShopItem.vue\";\nimport { cartController } from \"../../../common/cartController\";\nimport { Store, useStore } from \"vuex\";\n\n// 处理获取商铺信息\nconst getShopInfoHandler = (store: Store<any>, shopId: string) => {\n  const { setShopName } = cartController(store, null);\n  let shopInfo = ref({});\n  const getData = async () => {\n    const result = await get(`${api.getShopInfo}/${shopId}`, {});\n    if (result?.retCode === 0) {\n      shopInfo.value = result?.data;\n      // 存储商铺信息\n      setShopName(shopId, shopInfo);\n    }\n  };\n  onMounted(() => {\n    getData();\n  });\n\n  return { shopInfo };\n};\n\nexport default defineComponent({\n  name: \"Info\",\n  components: {\n    ShopItem,\n  },\n  setup() {\n    // 获取路径\n    const route = useRoute();\n    // 获取store\n    const store = useStore();\n    // 获取商铺id\n    const shopId = typeof route.params?.id === \"string\" ? route.params?.id : \"\";\n    // 获取店铺信息\n    const { shopInfo } = getShopInfoHandler(store, shopId);\n\n    return { shopInfo };\n  },\n});\n","import { render } from \"./Index.vue?vue&type=template&id=24d28d6c&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&lang=ts\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=24d28d6c&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-24d28d6c\"\n\nexport default script","<template>\n  <div class=\"shop__content\">\n    <div class=\"category\">\n      <div\n        :class=\"['category__item', { 'category__item--active': currentTag.value === tag.value }]\"\n        v-for=\"tag in tags\"\n        :key=\"tag\"\n        @click=\"changeCategory(tag)\"\n      >\n        {{ tag.label }}\n      </div>\n    </div>\n    <div class=\"product\">\n      <div class=\"product__item\" v-for=\"item in products\" :key=\"item.id\">\n        <img :src=\"item.imgUrl\" alt=\"\" />\n        <div class=\"product__item__price\">\n          <div class=\"product__item__price__title\">{{ item.title }}</div>\n          <div class=\"product__item__price__sale\">{{ `月售${item.sales}件` }}</div>\n          <div class=\"product__item__price__expensive\">\n            <span class=\"product__item__price__expensive__yen\">&yen;</span>\n            <span class=\"product__item__price__expensive__currentPrice\">{{ item.currentPrice }}</span>\n            <span class=\"product__item__price__expensive__originalPrice\">&yen;{{ item.originalPrice }}</span>\n          </div>\n        </div>\n        <div class=\"product__item__action\">\n          <span class=\"iconfont del\" @click=\"delToCart(shopId, item.id, item)\" v-if=\"showNum(shopId, item.id)\"\n            >&#xe656;</span\n          >\n          <span class=\"num\" v-if=\"showNum(shopId, item.id)\">{{ productNum(shopId, item.id) }}</span>\n          <span class=\"iconfont add\" @click=\"addToCart(shopId, item.id, item)\">&#xe62c;</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, watchEffect, ref, Ref, computed } from \"vue\";\nimport { useRoute, RouteLocationNormalizedLoaded } from \"vue-router\";\nimport { useStore } from \"vuex\";\nimport { get } from \"../../../utils/request\";\nimport api from \"../../../api/Index\";\nimport { cartController } from \"../../../common/cartController\";\n\ninterface Product {\n  id: number;\n  title: string;\n  sales: string;\n  currentPrice: number;\n  originalPrice: number;\n}\n\ninterface Tag {\n  label: string;\n  value: string;\n}\n\nconst tags: Tag[] = [\n  { label: \"全部商品\", value: \"all\" },\n  { label: \"秒杀\", value: \"second\" },\n  { label: \"新鲜水果\", value: \"fruit\" },\n  { label: \"休闲食品\", value: \"snacks\" },\n  { label: \"时令蔬菜\", value: \"vegetable\" },\n  { label: \"肉蛋家禽\", value: \"meat\" },\n];\n\n// 处理更改分类\nconst changeCategoryHandler = () => {\n  let currentTag = ref(tags[0]);\n  const changeCategory = (tag: Tag) => {\n    currentTag.value = tag;\n  };\n  return { currentTag, changeCategory };\n};\n\n// 根据分类获取商品\nconst getProductsByCategoryHandler = (route: RouteLocationNormalizedLoaded, tag: Ref<Tag>) => {\n  let products = ref<Product[]>([]);\n  const id = route.params?.id;\n  const getProductsByCategory = async () => {\n    const result = await get(`${api.getProductsByCategory}/${id}/tag`, { tag: tag.value.value });\n    if (result.retCode === 0) {\n      products.value = result.data;\n    }\n  };\n\n  // 收集依赖阶段触发\n  watchEffect(() => {\n    getProductsByCategory();\n  });\n  return { products };\n};\n\nexport default defineComponent({\n  name: \"Product\",\n  setup() {\n    // 获取路径\n    const route = useRoute();\n    // 获取vuex\n    const store = useStore();\n\n    // const cartList = localStorage.vuex ? JSON.parse(localStorage.vuex).cartList : {};\n    // console.log(cartList);\n\n    const cartList = computed(() => {\n      return store.state.cartList;\n    });\n\n    // 获取shopId\n    const shopId = route.params.id;\n    // 切换商品分类\n    const { changeCategory, currentTag } = changeCategoryHandler();\n    // 获取商品信息\n    const { products } = getProductsByCategoryHandler(route, currentTag);\n    // 购物车逻辑\n    const { addToCart, delToCart } = cartController(store, null);\n    // 判断当前商品数量是否大于0\n    const showNum = (shopId: any, productId: any) => {\n      return cartList.value[shopId]?.[\"productList\"]?.[productId]?.count > 0;\n    };\n    // 展示商品数量逻辑\n    const productNum = (shopId: any, productId: any) => {\n      return cartList.value[shopId]?.[\"productList\"]?.[productId]?.count || 0;\n    };\n\n    return {\n      changeCategory,\n      currentTag,\n      products,\n      tags,\n      store,\n      shopId,\n      addToCart,\n      delToCart,\n      cartList,\n      showNum,\n      productNum,\n    };\n  },\n});\n</script>\n\n<style lang=\"less\" scoped>\n@import url(\"../../../style/variable.less\");\n.shop__content {\n  position: absolute;\n  top: 1.4rem;\n  bottom: 0.5rem;\n  left: 0;\n  right: 0;\n  display: flex;\n}\n.category {\n  width: 0.76rem;\n  background-color: @bg-color-light-white;\n  font-size: 0.14rem;\n  height: 100%;\n  overflow-y: scroll;\n  &__item {\n    line-height: 0.4rem;\n    text-align: center;\n    color: #333;\n  }\n  &__item--active {\n    background-color: @bg-color-white;\n  }\n}\n.product {\n  flex: 1;\n  padding: 0.12rem 0.16rem;\n  overflow-y: scroll;\n  &__item {\n    display: flex;\n    align-items: center;\n    border-bottom: 0.01rem solid @content-color-light-white;\n    padding: 0.12rem 0;\n    position: relative;\n    img {\n      width: 0.68rem;\n      height: 0.68rem;\n    }\n    &__price {\n      margin-left: 0.16rem;\n      flex: 1;\n      &__title {\n        font-size: 0.14rem;\n        color: @content-color-dark;\n        line-height: 0.2rem;\n      }\n      &__sale {\n        font-size: 0.12rem;\n        color: @content-color-dark;\n        margin: 0.06rem 0;\n        line-height: 0.16rem;\n      }\n      &__expensive {\n        position: relative;\n        line-height: 0.2rem;\n        font-size: 0.12rem;\n        &__yen {\n          color: @content-color-orange;\n          font-size: 0.12rem;\n        }\n        &__currentPrice {\n          font-size: 0.14rem;\n          color: @content-color-orange;\n          margin-right: 0.06rem;\n        }\n        &__originalPrice {\n          font-size: 0.12rem;\n          text-decoration: line-through;\n          color: @content-color-light-grey;\n        }\n      }\n    }\n    &__action {\n      position: absolute;\n      right: 0;\n      bottom: 0.12rem;\n      display: flex;\n      align-items: center;\n      .del {\n        font-size: 0.2rem;\n        margin-right: 0.1rem;\n        color: @content-color-dark-grey;\n      }\n      .num {\n        font-size: 0.14rem;\n        color: @content-color-dark;\n        margin-right: 0.1rem;\n      }\n      .add {\n        font-size: 0.2rem;\n        color: @content-color-dark-blue;\n      }\n    }\n  }\n}\n</style>\n","\nimport { defineComponent, watchEffect, ref, Ref, computed } from \"vue\";\nimport { useRoute, RouteLocationNormalizedLoaded } from \"vue-router\";\nimport { useStore } from \"vuex\";\nimport { get } from \"../../../utils/request\";\nimport api from \"../../../api/Index\";\nimport { cartController } from \"../../../common/cartController\";\n\ninterface Product {\n  id: number;\n  title: string;\n  sales: string;\n  currentPrice: number;\n  originalPrice: number;\n}\n\ninterface Tag {\n  label: string;\n  value: string;\n}\n\nconst tags: Tag[] = [\n  { label: \"全部商品\", value: \"all\" },\n  { label: \"秒杀\", value: \"second\" },\n  { label: \"新鲜水果\", value: \"fruit\" },\n  { label: \"休闲食品\", value: \"snacks\" },\n  { label: \"时令蔬菜\", value: \"vegetable\" },\n  { label: \"肉蛋家禽\", value: \"meat\" },\n];\n\n// 处理更改分类\nconst changeCategoryHandler = () => {\n  let currentTag = ref(tags[0]);\n  const changeCategory = (tag: Tag) => {\n    currentTag.value = tag;\n  };\n  return { currentTag, changeCategory };\n};\n\n// 根据分类获取商品\nconst getProductsByCategoryHandler = (route: RouteLocationNormalizedLoaded, tag: Ref<Tag>) => {\n  let products = ref<Product[]>([]);\n  const id = route.params?.id;\n  const getProductsByCategory = async () => {\n    const result = await get(`${api.getProductsByCategory}/${id}/tag`, { tag: tag.value.value });\n    if (result.retCode === 0) {\n      products.value = result.data;\n    }\n  };\n\n  // 收集依赖阶段触发\n  watchEffect(() => {\n    getProductsByCategory();\n  });\n  return { products };\n};\n\nexport default defineComponent({\n  name: \"Product\",\n  setup() {\n    // 获取路径\n    const route = useRoute();\n    // 获取vuex\n    const store = useStore();\n\n    // const cartList = localStorage.vuex ? JSON.parse(localStorage.vuex).cartList : {};\n    // console.log(cartList);\n\n    const cartList = computed(() => {\n      return store.state.cartList;\n    });\n\n    // 获取shopId\n    const shopId = route.params.id;\n    // 切换商品分类\n    const { changeCategory, currentTag } = changeCategoryHandler();\n    // 获取商品信息\n    const { products } = getProductsByCategoryHandler(route, currentTag);\n    // 购物车逻辑\n    const { addToCart, delToCart } = cartController(store, null);\n    // 判断当前商品数量是否大于0\n    const showNum = (shopId: any, productId: any) => {\n      return cartList.value[shopId]?.[\"productList\"]?.[productId]?.count > 0;\n    };\n    // 展示商品数量逻辑\n    const productNum = (shopId: any, productId: any) => {\n      return cartList.value[shopId]?.[\"productList\"]?.[productId]?.count || 0;\n    };\n\n    return {\n      changeCategory,\n      currentTag,\n      products,\n      tags,\n      store,\n      shopId,\n      addToCart,\n      delToCart,\n      cartList,\n      showNum,\n      productNum,\n    };\n  },\n});\n","import { render } from \"./Index.vue?vue&type=template&id=52743d35&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&lang=ts\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=52743d35&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-52743d35\"\n\nexport default script","<template>\n  <div>\n    <div class=\"mask\" v-if=\"showCart\"></div>\n    <div class=\"product\" v-if=\"showCart\">\n      <div class=\"product__tool\">\n        <div class=\"product__tool__all\" @click=\"selectAll(shopId)\">\n          <span :class=\"['product__tool__all__check', 'iconfont', { checked: calculation.allChecked }]\">&#xe69b;</span>\n          全选\n        </div>\n        <div class=\"product__tool__clear\" @click=\"clearCart\">清空购物车</div>\n      </div>\n      <div v-for=\"item in productList\" :key=\"item.id\">\n        <div class=\"product__item\" v-if=\"item.count > 0\">\n          <div\n            :class=\"['product__item__check', 'iconfont', { checked: item.check }]\"\n            @click=\"changeProductCheck(shopId, item.id)\"\n          >\n            &#xe69b;\n          </div>\n          <img :src=\"item.imgUrl\" alt=\"\" />\n          <div class=\"product__item__price\">\n            <div class=\"product__item__price__title\">{{ item.title }}</div>\n            <div class=\"product__item__price__sale\">{{ `月售${item.sales}件` }}</div>\n            <div class=\"product__item__price__expensive\">\n              <span class=\"product__item__price__expensive__yen\">&yen;</span>\n              <span class=\"product__item__price__expensive__currentPrice\">{{ item.currentPrice }}</span>\n              <span class=\"product__item__price__expensive__originalPrice\">&yen;{{ item.originalPrice }}</span>\n            </div>\n          </div>\n          <div class=\"product__item__action\">\n            <span class=\"iconfont del\" @click=\"delToCart(shopId, item.id, item)\" v-if=\"item.count > 0\">&#xe656;</span>\n            <span class=\"num\" v-if=\"item.count > 0\">{{ item.count || 0 }}</span>\n            <span class=\"iconfont add\" @click=\"addToCart(shopId, item.id, item)\">&#xe62c;</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"cart\">\n      <div class=\"cart__num\" @click=\"toggleProduct\">\n        <img src=\"../../../assets/imgs/basket.png\" alt=\"\" />\n        <div class=\"icon\">{{ calculation.total }}</div>\n      </div>\n      <div class=\"cart__total\">\n        总计：<span>&yen;{{ calculation.price }}</span>\n      </div>\n      <div class=\"cart__settle\" @click=\"goToOrder\">去结算</div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, ref } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { useStore } from \"vuex\";\nimport util from \"../../../utils/common\";\nimport { cartController } from \"../../../common/cartController\";\n\n// 处理购物车\nconst cartEffect = () => {\n  const router = useRouter();\n  const route = useRoute();\n  const store = useStore();\n  const shopId = route.params.id;\n  // const products = typeof shopId === \"string\" ? store.state.cartList?.[shopId]?.[\"productList\"] : {};\n  let showCartFlag = ref(false);\n\n  const products = computed(() => {\n    return typeof shopId === \"string\" ? store.state.cartList?.[shopId]?.[\"productList\"] : {};\n  });\n\n  const calculation = computed(() => {\n    const result = { total: 0, realTotal: 0, price: 0, allChecked: true };\n    for (const key in products.value) {\n      const product = products.value[key];\n      if (product.count > 0 && product.check) {\n        result.total += product.count; // 计算总数\n        result.price += product.count * product.currentPrice; // 计算总价钱\n      }\n      if (product.count > 0) {\n        result.realTotal += product.count;\n      }\n      if (!product.check) {\n        result.allChecked = false; // 全选状态\n      }\n    }\n    if (result.realTotal <= 0) {\n      showCartFlag.value = false;\n    }\n    return {\n      total: result.total,\n      realTotal: result.realTotal,\n      price: util.formatNumTwo(result.price),\n      allChecked: result.allChecked,\n    };\n  });\n\n  const showCart = computed(() => {\n    return showCartFlag.value && calculation.value.realTotal > 0;\n  });\n\n  const productList = computed(() => {\n    const list: any[] = [];\n    products.value &&\n      Object.keys(products.value).forEach((_k) => {\n        list.push(products.value[_k]);\n      });\n    return list;\n  });\n\n  // 点击购物车 展示购物详情\n  const toggleProduct = () => {\n    showCartFlag.value = !showCartFlag.value;\n  };\n\n  // 去结算\n  const goToOrder = () => {\n    router.push({\n      path: \"/order\",\n      query: {\n        shopId,\n      },\n    });\n  };\n\n  const { addToCart, delToCart, changeProductCheck, selectAll, clearCart } = cartController(store, showCartFlag);\n\n  return {\n    shopId,\n    calculation,\n    productList,\n    showCartFlag,\n    addToCart,\n    delToCart,\n    changeProductCheck,\n    toggleProduct,\n    selectAll,\n    clearCart,\n    showCart,\n    goToOrder,\n  };\n};\n\nexport default defineComponent({\n  name: \"Cart\",\n  setup() {\n    const {\n      shopId,\n      calculation,\n      productList,\n      showCartFlag,\n      addToCart,\n      delToCart,\n      changeProductCheck,\n      toggleProduct,\n      selectAll,\n      clearCart,\n      showCart,\n      goToOrder,\n    } = cartEffect();\n\n    return {\n      shopId,\n      calculation,\n      productList,\n      showCartFlag,\n      addToCart,\n      delToCart,\n      changeProductCheck,\n      toggleProduct,\n      selectAll,\n      clearCart,\n      showCart,\n      goToOrder,\n    };\n  },\n});\n</script>\n\n<style lang=\"less\" scoped>\n@import url(\"../../../style/variable.less\");\n.mask {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n.cart {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  height: 0.49rem;\n  font-size: 0.12rem;\n  display: flex;\n  align-items: center;\n  color: @content-color-dark;\n  border-top: 0.1rem solid @content-color-light-white;\n  box-sizing: border-box;\n  background-color: @bg-color-white;\n  &__num {\n    width: 0.76rem;\n    height: 0.49rem;\n    text-align: center;\n    position: relative;\n    img {\n      width: 0.28rem;\n      height: 0.26rem;\n      margin: 0.12rem auto;\n    }\n    .icon {\n      position: absolute;\n      top: 0.01rem;\n      left: 0.4rem;\n      min-width: 0.2rem;\n      height: 0.2rem;\n      transform: scale(0.5);\n      transform-origin: left center;\n      background-color: @content-color-orange;\n      color: @bg-color-white;\n      line-height: 0.2rem;\n      border-radius: 0.1rem;\n    }\n  }\n  &__total {\n    flex: 1;\n    margin-left: 0.08rem;\n    span {\n      font-size: 0.18rem;\n      color: @content-color-orange;\n    }\n  }\n  &__settle {\n    width: 0.98rem;\n    height: 0.49rem;\n    line-height: 0.49rem;\n    font-size: 0.14rem;\n    color: @bg-color-white;\n    background-color: @content-color-light-blue;\n    text-align: center;\n  }\n}\n.product {\n  padding: 0.12rem 0.16rem;\n  overflow-y: scroll;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0.49rem;\n  max-height: 3rem;\n  background-color: #fff;\n  &__tool {\n    display: flex;\n    font-size: 0.14rem;\n    color: @content-color-dark;\n    &__clear {\n      text-align: right;\n      flex: 1;\n    }\n    &__all {\n      &__check {\n        margin-right: 0.16rem;\n        color: @bg-color-middle-white;\n        &.checked {\n          color: @content-color-dark-blue;\n        }\n      }\n    }\n  }\n  &__item {\n    display: flex;\n    align-items: center;\n    border-bottom: 0.1rem solid @content-color-light-white;\n    padding: 0.12rem 0;\n    position: relative;\n    &__check {\n      margin-right: 0.16rem;\n      color: @bg-color-middle-white;\n      &.checked {\n        color: @content-color-dark-blue;\n      }\n    }\n    img {\n      width: 0.46rem;\n      height: 0.46rem;\n    }\n    &__price {\n      margin-left: 0.16rem;\n      flex: 1;\n      &__title {\n        font-size: 0.14rem;\n        color: @content-color-dark;\n        line-height: 0.2rem;\n      }\n      &__sale {\n        font-size: 0.12rem;\n        color: @content-color-dark;\n        margin: 0.06rem 0;\n        line-height: 0.16rem;\n      }\n      &__expensive {\n        position: relative;\n        line-height: 0.2rem;\n        font-size: 0.12rem;\n        &__yen {\n          color: @content-color-orange;\n          font-size: 0.12rem;\n        }\n        &__currentPrice {\n          font-size: 0.14rem;\n          color: @content-color-orange;\n          margin-right: 0.06rem;\n        }\n        &__originalPrice {\n          font-size: 0.12rem;\n          text-decoration: line-through;\n          color: @content-color-light-grey;\n        }\n      }\n    }\n    &__action {\n      position: absolute;\n      right: 0;\n      bottom: 0.12rem;\n      display: flex;\n      align-items: center;\n      .del {\n        font-size: 0.2rem;\n        margin-right: 0.1rem;\n        color: @content-color-dark-grey;\n      }\n      .num {\n        font-size: 0.14rem;\n        color: @content-color-dark;\n        margin-right: 0.1rem;\n      }\n      .add {\n        font-size: 0.2rem;\n        color: @content-color-dark-blue;\n      }\n    }\n  }\n}\n</style>\n","\nimport { defineComponent, computed, ref } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { useStore } from \"vuex\";\nimport util from \"../../../utils/common\";\nimport { cartController } from \"../../../common/cartController\";\n\n// 处理购物车\nconst cartEffect = () => {\n  const router = useRouter();\n  const route = useRoute();\n  const store = useStore();\n  const shopId = route.params.id;\n  // const products = typeof shopId === \"string\" ? store.state.cartList?.[shopId]?.[\"productList\"] : {};\n  let showCartFlag = ref(false);\n\n  const products = computed(() => {\n    return typeof shopId === \"string\" ? store.state.cartList?.[shopId]?.[\"productList\"] : {};\n  });\n\n  const calculation = computed(() => {\n    const result = { total: 0, realTotal: 0, price: 0, allChecked: true };\n    for (const key in products.value) {\n      const product = products.value[key];\n      if (product.count > 0 && product.check) {\n        result.total += product.count; // 计算总数\n        result.price += product.count * product.currentPrice; // 计算总价钱\n      }\n      if (product.count > 0) {\n        result.realTotal += product.count;\n      }\n      if (!product.check) {\n        result.allChecked = false; // 全选状态\n      }\n    }\n    if (result.realTotal <= 0) {\n      showCartFlag.value = false;\n    }\n    return {\n      total: result.total,\n      realTotal: result.realTotal,\n      price: util.formatNumTwo(result.price),\n      allChecked: result.allChecked,\n    };\n  });\n\n  const showCart = computed(() => {\n    return showCartFlag.value && calculation.value.realTotal > 0;\n  });\n\n  const productList = computed(() => {\n    const list: any[] = [];\n    products.value &&\n      Object.keys(products.value).forEach((_k) => {\n        list.push(products.value[_k]);\n      });\n    return list;\n  });\n\n  // 点击购物车 展示购物详情\n  const toggleProduct = () => {\n    showCartFlag.value = !showCartFlag.value;\n  };\n\n  // 去结算\n  const goToOrder = () => {\n    router.push({\n      path: \"/order\",\n      query: {\n        shopId,\n      },\n    });\n  };\n\n  const { addToCart, delToCart, changeProductCheck, selectAll, clearCart } = cartController(store, showCartFlag);\n\n  return {\n    shopId,\n    calculation,\n    productList,\n    showCartFlag,\n    addToCart,\n    delToCart,\n    changeProductCheck,\n    toggleProduct,\n    selectAll,\n    clearCart,\n    showCart,\n    goToOrder,\n  };\n};\n\nexport default defineComponent({\n  name: \"Cart\",\n  setup() {\n    const {\n      shopId,\n      calculation,\n      productList,\n      showCartFlag,\n      addToCart,\n      delToCart,\n      changeProductCheck,\n      toggleProduct,\n      selectAll,\n      clearCart,\n      showCart,\n      goToOrder,\n    } = cartEffect();\n\n    return {\n      shopId,\n      calculation,\n      productList,\n      showCartFlag,\n      addToCart,\n      delToCart,\n      changeProductCheck,\n      toggleProduct,\n      selectAll,\n      clearCart,\n      showCart,\n      goToOrder,\n    };\n  },\n});\n","import { render } from \"./Index.vue?vue&type=template&id=402eec44&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&lang=ts\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=402eec44&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-402eec44\"\n\nexport default script","\nimport { defineComponent } from \"vue\";\nimport Search from \"./Search/Index.vue\";\nimport Info from \"./Info/Index.vue\";\nimport Products from \"./Product/Index.vue\";\nimport Cart from \"./Cart/Index.vue\";\n\nexport default defineComponent({\n  name: \"Shop\",\n  components: {\n    Search,\n    Info,\n    Products,\n    Cart,\n  },\n});\n","import { render } from \"./Index.vue?vue&type=template&id=6ca79a26\"\nimport script from \"./Index.vue?vue&type=script&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Index.vue?vue&type=style&index=0&id=24d28d6c&lang=less&scoped=true\""],"sourceRoot":""}