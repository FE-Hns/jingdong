(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shop"],{"04fd":function(t,e){t.exports="data:image/png;base64,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"},"1ca1":function(t,e,c){"use strict";c("99fa")},"6a70":function(t,e,c){"use strict";c("f9e1")},"8b2d":function(t,e,c){"use strict";c("b9f8")},"99fa":function(t,e,c){},b64b:function(t,e,c){var a=c("23e7"),r=c("7b0b"),n=c("df75"),o=c("d039"),i=o((function(){n(1)}));a({target:"Object",stat:!0,forced:i},{keys:function(t){return n(r(t))}})},b9f8:function(t,e,c){},bcf8:function(t,e,c){"use strict";c.r(e);var a=c("7a23"),r={class:"shop"};function n(t,e,c,n,o,i){var l=Object(a["A"])("Search"),u=Object(a["A"])("Info"),s=Object(a["A"])("Products"),d=Object(a["A"])("Cart");return Object(a["s"])(),Object(a["e"])("div",r,[Object(a["i"])(l),Object(a["i"])(u),Object(a["i"])(s),Object(a["i"])(d)])}var o=Object(a["K"])("data-v-5956ebc8");Object(a["v"])("data-v-5956ebc8");var i={class:"search"},l=Object(a["i"])("div",{class:"search__content"},[Object(a["i"])("div",{class:"iconfont search__content__prefix"},""),Object(a["i"])("input",{type:"text",class:"search__content__input",placeholder:"请输入商品名称搜索"})],-1);Object(a["t"])();var u=o((function(t,e,c,r,n,o){return Object(a["s"])(),Object(a["e"])("div",i,[Object(a["i"])("span",{class:"iconfont",onClick:e[1]||(e[1]=function(){return t.handleClickBack&&t.handleClickBack.apply(t,arguments)})},""),l])})),s=c("6c02"),d=function(t){var e=function(){t.back()};return{handleClickBack:e}},b=Object(a["j"])({name:"Search",setup:function(){var t=Object(s["d"])(),e=d(t),c=e.handleClickBack;return{handleClickBack:c}}});c("8b2d");b.render=u,b.__scopeId="data-v-5956ebc8";var p=b,O=Object(a["K"])("data-v-24d28d6c");Object(a["v"])("data-v-24d28d6c");var v={class:"shop__info"};Object(a["t"])();var j=O((function(t,e,c,r,n,o){var i=Object(a["A"])("ShopItem");return Object(a["s"])(),Object(a["e"])("div",v,[Object(a["i"])(i,{data:t.shopInfo,hasBorder:!1},null,8,["data"])])})),f=c("1da1"),_=(c("96cf"),c("99af"),c("b32d")),h=c("1f78"),C=c("2583"),g=function(t,e){var c=function(e,c,a){t.commit("addToCart",{shopId:e,productId:c,productInfo:a})},a=function(e,c,a){t.commit("delToCart",{shopId:e,productId:c,productInfo:a})},r=function(e,c){t.commit("changeProductCheck",{shopId:e,productId:c})},n=function(e){t.commit("selectAll",{shopId:e})},o=function(){e.value=!1,t.commit("clearCart")},i=function(e,c){t.commit("setShopName",{shopId:e,shopInfo:c})};return{addToCart:c,delToCart:a,changeProductCheck:r,selectAll:n,clearCart:o,setShopName:i}},m=c("5502"),k=function(t,e){var c=g(t,null),r=c.setShopName,n=Object(a["x"])({}),o=function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(_["a"])("".concat(h["a"].getShopInfo,"/").concat(e),{});case 2:c=t.sent,0===(null===c||void 0===c?void 0:c.retCode)&&(n.value=null===c||void 0===c?void 0:c.data,r(e,n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a["q"])((function(){o()})),{shopInfo:n}},A=Object(a["j"])({name:"Info",components:{ShopItem:C["a"]},setup:function(){var t,e,c=Object(s["c"])(),a=Object(m["b"])(),r="string"===typeof(null===(t=c.params)||void 0===t?void 0:t.id)?null===(e=c.params)||void 0===e?void 0:e.id:"",n=k(a,r),o=n.shopInfo;return{shopInfo:o}}});c("db12");A.render=j,A.__scopeId="data-v-24d28d6c";var y=A,T=Object(a["K"])("data-v-52743d35");Object(a["v"])("data-v-52743d35");var I={class:"shop__content"},B={class:"category"},w={class:"product"},P={class:"product__item__price"},N={class:"product__item__price__title"},J={class:"product__item__price__sale"},U={class:"product__item__price__expensive"},x=Object(a["i"])("span",{class:"product__item__price__expensive__yen"},"¥",-1),L={class:"product__item__price__expensive__currentPrice"},X={class:"product__item__price__expensive__originalPrice"},G={class:"product__item__action"},z={key:1,class:"num"};Object(a["t"])();var K=T((function(t,e,c,r,n,o){return Object(a["s"])(),Object(a["e"])("div",I,[Object(a["i"])("div",B,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["z"])(t.tags,(function(e){return Object(a["s"])(),Object(a["e"])("div",{class:["category__item",{"category__item--active":t.currentTag.value===e.value}],key:e,onClick:function(c){return t.changeCategory(e)}},Object(a["C"])(e.label),11,["onClick"])})),128))]),Object(a["i"])("div",w,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["z"])(t.products,(function(e){return Object(a["s"])(),Object(a["e"])("div",{class:"product__item",key:e.id},[Object(a["i"])("img",{src:e.imgUrl,alt:""},null,8,["src"]),Object(a["i"])("div",P,[Object(a["i"])("div",N,Object(a["C"])(e.title),1),Object(a["i"])("div",J,Object(a["C"])("月售".concat(e.sales,"件")),1),Object(a["i"])("div",U,[x,Object(a["i"])("span",L,Object(a["C"])(e.currentPrice),1),Object(a["i"])("span",X,"¥"+Object(a["C"])(e.originalPrice),1)])]),Object(a["i"])("div",G,[t.showNum(t.shopId,e.id)?(Object(a["s"])(),Object(a["e"])("span",{key:0,class:"iconfont del",onClick:function(c){return t.delToCart(t.shopId,e.id,e)}},"",8,["onClick"])):Object(a["f"])("",!0),t.showNum(t.shopId,e.id)?(Object(a["s"])(),Object(a["e"])("span",z,Object(a["C"])(t.productNum(t.shopId,e.id)),1)):Object(a["f"])("",!0),Object(a["i"])("span",{class:"iconfont add",onClick:function(c){return t.addToCart(t.shopId,e.id,e)}},"",8,["onClick"])])])})),128))])])})),Z=[{label:"全部商品",value:"all"},{label:"秒杀",value:"second"},{label:"新鲜水果",value:"fruit"},{label:"休闲食品",value:"snacks"},{label:"时令蔬菜",value:"vegetable"},{label:"肉蛋家禽",value:"meat"}],R=function(){var t=Object(a["x"])(Z[0]),e=function(e){t.value=e};return{currentTag:t,changeCategory:e}},D=function(t,e){var c,r=Object(a["x"])([]),n=null===(c=t.params)||void 0===c?void 0:c.id,o=function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(_["a"])("".concat(h["a"].getProductsByCategory,"/").concat(n,"/tag"),{tag:e.value.value});case 2:c=t.sent,0===c.retCode&&(r.value=c.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a["H"])((function(){o()})),{products:r}},F=Object(a["j"])({name:"Product",setup:function(){var t=Object(s["c"])(),e=Object(m["b"])(),c=Object(a["c"])((function(){return e.state.cartList})),r=t.params.id,n=R(),o=n.changeCategory,i=n.currentTag,l=D(t,i),u=l.products,d=g(e,null),b=d.addToCart,p=d.delToCart,O=function(t,e){var a,r,n;return(null===(a=c.value[t])||void 0===a||null===(r=a["productList"])||void 0===r||null===(n=r[e])||void 0===n?void 0:n.count)>0},v=function(t,e){var a,r,n;return(null===(a=c.value[t])||void 0===a||null===(r=a["productList"])||void 0===r||null===(n=r[e])||void 0===n?void 0:n.count)||0};return{changeCategory:o,currentTag:i,products:u,tags:Z,store:e,shopId:r,addToCart:b,delToCart:p,cartList:c,showNum:O,productNum:v}}});c("6a70");F.render=K,F.__scopeId="data-v-52743d35";var q=F,H=c("04fd"),V=c.n(H),E=Object(a["K"])("data-v-402eec44");Object(a["v"])("data-v-402eec44");var M={key:0,class:"mask"},S={key:1,class:"product"},Y={class:"product__tool"},W=Object(a["h"])(" 全选 "),Q={key:0,class:"product__item"},$={class:"product__item__price"},tt={class:"product__item__price__title"},et={class:"product__item__price__sale"},ct={class:"product__item__price__expensive"},at=Object(a["i"])("span",{class:"product__item__price__expensive__yen"},"¥",-1),rt={class:"product__item__price__expensive__currentPrice"},nt={class:"product__item__price__expensive__originalPrice"},ot={class:"product__item__action"},it={key:1,class:"num"},lt={class:"cart"},ut=Object(a["i"])("img",{src:V.a,alt:""},null,-1),st={class:"icon"},dt={class:"cart__total"},bt=Object(a["h"])(" 总计：");Object(a["t"])();var pt=E((function(t,e,c,r,n,o){return Object(a["s"])(),Object(a["e"])("div",null,[t.showCart?(Object(a["s"])(),Object(a["e"])("div",M)):Object(a["f"])("",!0),t.showCart?(Object(a["s"])(),Object(a["e"])("div",S,[Object(a["i"])("div",Y,[Object(a["i"])("div",{class:"product__tool__all",onClick:e[1]||(e[1]=function(e){return t.selectAll(t.shopId)})},[Object(a["i"])("span",{class:["product__tool__all__check","iconfont",{checked:t.calculation.allChecked}]},"",2),W]),Object(a["i"])("div",{class:"product__tool__clear",onClick:e[2]||(e[2]=function(){return t.clearCart&&t.clearCart.apply(t,arguments)})},"清空购物车")]),(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["z"])(t.productList,(function(e){return Object(a["s"])(),Object(a["e"])("div",{key:e.id},[e.count>0?(Object(a["s"])(),Object(a["e"])("div",Q,[Object(a["i"])("div",{class:["product__item__check","iconfont",{checked:e.check}],onClick:function(c){return t.changeProductCheck(t.shopId,e.id)}},"  ",10,["onClick"]),Object(a["i"])("img",{src:e.imgUrl,alt:""},null,8,["src"]),Object(a["i"])("div",$,[Object(a["i"])("div",tt,Object(a["C"])(e.title),1),Object(a["i"])("div",et,Object(a["C"])("月售".concat(e.sales,"件")),1),Object(a["i"])("div",ct,[at,Object(a["i"])("span",rt,Object(a["C"])(e.currentPrice),1),Object(a["i"])("span",nt,"¥"+Object(a["C"])(e.originalPrice),1)])]),Object(a["i"])("div",ot,[e.count>0?(Object(a["s"])(),Object(a["e"])("span",{key:0,class:"iconfont del",onClick:function(c){return t.delToCart(t.shopId,e.id,e)}},"",8,["onClick"])):Object(a["f"])("",!0),e.count>0?(Object(a["s"])(),Object(a["e"])("span",it,Object(a["C"])(e.count||0),1)):Object(a["f"])("",!0),Object(a["i"])("span",{class:"iconfont add",onClick:function(c){return t.addToCart(t.shopId,e.id,e)}},"",8,["onClick"])])])):Object(a["f"])("",!0)])})),128))])):Object(a["f"])("",!0),Object(a["i"])("div",lt,[Object(a["i"])("div",{class:"cart__num",onClick:e[3]||(e[3]=function(){return t.toggleProduct&&t.toggleProduct.apply(t,arguments)})},[ut,Object(a["i"])("div",st,Object(a["C"])(t.calculation.total),1)]),Object(a["i"])("div",dt,[bt,Object(a["i"])("span",null,"¥"+Object(a["C"])(t.calculation.price),1)]),Object(a["i"])("div",{class:"cart__settle",onClick:e[4]||(e[4]=function(){return t.goToOrder&&t.goToOrder.apply(t,arguments)})},"去结算")])])})),Ot=(c("159b"),c("b64b"),c("48b8")),vt=function(){var t=Object(s["d"])(),e=Object(s["c"])(),c=Object(m["b"])(),r=e.params.id,n=Object(a["x"])(!1),o=Object(a["c"])((function(){var t,e;return"string"===typeof r?null===(t=c.state.cartList)||void 0===t||null===(e=t[r])||void 0===e?void 0:e["productList"]:{}})),i=Object(a["c"])((function(){var t={total:0,realTotal:0,price:0,allChecked:!0};for(var e in o.value){var c=o.value[e];c.count>0&&c.check&&(t.total+=c.count,t.price+=c.count*c.currentPrice),c.count>0&&(t.realTotal+=c.count),c.check||(t.allChecked=!1)}return t.realTotal<=0&&(n.value=!1),{total:t.total,realTotal:t.realTotal,price:Ot["a"].formatNumTwo(t.price),allChecked:t.allChecked}})),l=Object(a["c"])((function(){return n.value&&i.value.realTotal>0})),u=Object(a["c"])((function(){var t=[];return o.value&&Object.keys(o.value).forEach((function(e){t.push(o.value[e])})),t})),d=function(){n.value=!n.value},b=function(){t.push({path:"/order",query:{shopId:r}})},p=g(c,n),O=p.addToCart,v=p.delToCart,j=p.changeProductCheck,f=p.selectAll,_=p.clearCart;return{shopId:r,calculation:i,productList:u,showCartFlag:n,addToCart:O,delToCart:v,changeProductCheck:j,toggleProduct:d,selectAll:f,clearCart:_,showCart:l,goToOrder:b}},jt=Object(a["j"])({name:"Cart",setup:function(){var t=vt(),e=t.shopId,c=t.calculation,a=t.productList,r=t.showCartFlag,n=t.addToCart,o=t.delToCart,i=t.changeProductCheck,l=t.toggleProduct,u=t.selectAll,s=t.clearCart,d=t.showCart,b=t.goToOrder;return{shopId:e,calculation:c,productList:a,showCartFlag:r,addToCart:n,delToCart:o,changeProductCheck:i,toggleProduct:l,selectAll:u,clearCart:s,showCart:d,goToOrder:b}}});c("1ca1");jt.render=pt,jt.__scopeId="data-v-402eec44";var ft=jt,_t=Object(a["j"])({name:"Shop",components:{Search:p,Info:y,Products:q,Cart:ft}});_t.render=n;e["default"]=_t},db12:function(t,e,c){"use strict";c("f6ff")},f6ff:function(t,e,c){},f9e1:function(t,e,c){}}]);
//# sourceMappingURL=shop.3c7a47b2.js.map